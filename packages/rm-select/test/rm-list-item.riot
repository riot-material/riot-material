<rm-list-item>
    <slot></slot>

    <style>
        :host {
            display: block;
            padding: 8px 12px;
        }
    </style>

    <script>
        export default {
            _updateRipple() {
                if (this.root.getAttribute("value") != null) {
                    riotMaterial.ripple.ripple(this.root, {
                        highlight: true
                    });
                } else {
                    riotMaterial.ripple.ripple(this.root, {
                        disabled: true, highlight: false
                    });
                }
            },
            onMounted() {
                this._updateRipple();
                let value = undefined;
                Object.defineProperty(this.root, "value", {
                    get: () => {
                        if (value === undefined) {
                            return this.props.value == null ? null : this.props.value + "";
                        }
                        return value;
                    },
                    set(v) {
                        value = v == null ? null : this.props.value + "";
                    }
                });
                Object.defineProperty(this.root, "label", {
                    get: () => {
                        return this.props.label == null ? this.root.innerText : this.props.label + "";
                    }
                });
            },
            onUpdated() {
                this._updateRipple();
            }
        }
    </script>
</rm-list-item>